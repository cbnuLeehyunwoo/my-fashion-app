<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-white justify-between group/design-root overflow-x-hidden"
      style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
    >
      <div>
        <div class="flex items-center bg-white p-4 pb-2 justify-between">
          <!-- 뒤로가기 버튼 -->
          <button
            class="text-[#111518] flex size-12 shrink-0 items-center justify-center p-0 cursor-pointer"
            data-icon="ArrowLeft"
            data-size="24px"
            data-weight="regular"
            onclick="history.back();"
            aria-label="뒤로가기"
          >
            <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path>
            </svg>
          </button>
          <h2 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Style Analysis</h2>
        </div>
        <h2 class="text-[#111518] tracking-light text-[28px] font-bold leading-tight px-4 text-center pb-3 pt-5">Analyzing your style</h2>
        <p class="text-[#111518] text-base font-normal leading-normal pb-3 pt-1 px-4 text-center">
          Our AI is working hard to understand your unique style. This may take a few moments.
        </p>
        <div class="flex flex-col gap-3 p-4">
          <div class="flex gap-6 justify-between"><p class="text-[#111518] text-base font-medium leading-normal">Analyzing...</p></div>
          <div class="rounded bg-[#dbe1e6]"><div id="progressBar" class="h-2 rounded bg-[#111518]" style="width: 0%;"></div></div>
          <!-- 초기 너비를 0%로 설정 -->
        </div>
        <p id="timeRemaining" class="text-[#60768a] text-sm font-normal leading-normal pb-3 pt-1 px-4 text-center">Estimated time remaining: 30 seconds</p>
      </div>
      <div>
        <div class="flex gap-2 border-t border-[#f0f2f5] bg-white px-4 pb-3 pt-2">
          <!-- 하단 내비게이션 - Home -->
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#60768a]" href="index.html">
            <div class="text-[#60768a] flex h-8 items-center justify-center" data-icon="House" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M218.83,103.77l-80-75.48a1.14,1.14,0,0,1-.11-.11,16,16,0,0,0-21.53,0l-.11.11L37.17,103.77A16,16,0,0,0,32,115.55V208a16,16,0,0,0,16,16H96a16,16,0,0,0,16-16V160h32v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V115.55A16,16,0,0,0,218.83,103.77ZM208,208H160V160a16,16,0,0,0-16-16H112a16,16,0,0,0-16,16v48H48V115.55l.11-.1L128,40l79.9,75.43.11.1Z"
                ></path>
              </svg>
            </div>
            <p class="text-[#60768a] text-xs font-medium leading-normal tracking-[0.015em]">Home</p>
          </a>
          <!-- 하단 내비게이션 - Search -->
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#60768a]" href="search.html">
            <div class="text-[#60768a] flex h-8 items-center justify-center" data-icon="MagnifyingGlass" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
              </svg>
            </div>
            <p class="text-[#60768a] text-xs font-medium leading-normal tracking-[0.015em]">Search</p>
          </a>
          <!-- 하단 내비게이션 - Upload (현재 페이지와 관련) -->
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 rounded-full text-[#111518]" href="upload_image.html">
            <div class="text-[#111518] flex h-8 items-center justify-center" data-icon="Camera" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M208,56H180.28L166.65,35.56A8,8,0,0,0,160,32H96a8,8,0,0,0-6.65,3.56L75.71,56H48A24,24,0,0,0,24,80V192a24,24,0,0,0,24,24H208a24,24,0,0,0,24-24V80A24,24,0,0,0,208,56Zm8,136a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H80a8,8,0,0,0,6.66-3.56L100.28,48h55.43l13.63,20.44A8,8,0,0,0,176,72h32a8,8,0,0,1,8,8ZM128,88a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,88Zm0,72a28,28,0,1,1,28-28A28,28,0,0,1,128,160Z"
                ></path>
              </svg>
            </div>
            <p class="text-[#111518] text-xs font-medium leading-normal tracking-[0.015em]">Upload</p>
          </a>
          <!-- 하단 내비게이션 - Favorites -->
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#60768a]" href="favorites.html">
            <div class="text-[#60768a] flex h-8 items-center justify-center" data-icon="Heart" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M178,32c-20.65,0-38.73,8.88-50,23.89C116.73,40.88,98.65,32,78,32A62.07,62.07,0,0,0,16,94c0,70,103.79,126.66,108.21,129a8,8,0,0,0,7.58,0C136.21,220.66,240,164,240,94A62.07,62.07,0,0,0,178,32ZM128,206.8C109.74,196.16,32,147.69,32,94A46.06,46.06,0,0,1,78,48c19.45,0,35.78,10.36,42.6,27a8,8,0,0,0,14.8,0c6.82-16.67,23.15-27,42.6-27a46.06,46.06,0,0,1,46,46C224,147.61,146.24,196.15,128,206.8Z"
                ></path>
              </svg>
            </div>
            <p class="text-[#60768a] text-xs font-medium leading-normal tracking-[0.015em]">Favorites</p>
          </a>
          <!-- 하단 내비게이션 - Profile -->
          <a class="just flex flex-1 flex-col items-center justify-end gap-1 text-[#60768a]" href="profile.html">
            <div class="text-[#60768a] flex h-8 items-center justify-center" data-icon="User" data-size="24px" data-weight="regular">
              <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                <path
                  d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"
                ></path>
              </svg>
            </div>
            <p class="text-[#60768a] text-xs font-medium leading-normal tracking-[0.015em]">Profile</p>
          </a>
        </div>
        <div class="h-5 bg-white"></div>
      </div>

      <script>
        const totalDurationSeconds = 10; // 총 분석 시간 (초)
        const updateIntervalMs = 500; // 업데이트 주기 (밀리초)
        const steps = (totalDurationSeconds * 1000) / updateIntervalMs; // 총 업데이트 횟수
        const progressIncrement = 100 / steps; // 한 번에 증가할 진행률
        const timeDecrement = updateIntervalMs / 1000; // 한 번에 감소할 시간

        let currentProgress = 0;
        let timeLeft = totalDurationSeconds;

        const progressBar = document.getElementById('progressBar');
        const timeRemainingText = document.getElementById('timeRemaining');

        function updateProgress() {
          currentProgress += progressIncrement;
          timeLeft -= timeDecrement;

          // 진행률과 남은 시간이 범위를 벗어나지 않도록 조정
          currentProgress = Math.min(currentProgress, 100);
          timeLeft = Math.max(timeLeft, 0);

          // UI 업데이트
          if (progressBar) { // 요소가 존재하는지 확인
            progressBar.style.width = `${currentProgress}%`;
          }
          if (timeRemainingText) { // 요소가 존재하는지 확인
            timeRemainingText.textContent = `Estimated time remaining: ${Math.round(timeLeft)} seconds`;
          }

          if (currentProgress >= 100) {
            clearInterval(intervalId); // 애니메이션 중지
            if (timeRemainingText) {
              timeRemainingText.textContent = `Analysis complete!`;
            }
            // 2초 후 결과 페이지로 이동 (필요에 따라 URL 변경)
            setTimeout(() => {
              window.location.href = 'style-analysis-results.html';
            }, 2000);
          }
        }

        // 페이지 로드 시 애니메이션 시작
        const intervalId = setInterval(updateProgress, updateIntervalMs);
      </script>
    </div>
  </body>
</html>