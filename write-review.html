<html>
  <head>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="" />
    <link
      rel="stylesheet"
      as="style"
      onload="this.rel='stylesheet'"
      href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&family=Plus+Jakarta+Sans%3Awght%40400%3B500%3B700%3B800"
    />

    <title>Stitch Design</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />

    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      let currentRating = 0; // 현재 선택된 별점

      // 별점 선택을 처리하는 함수
      function setRating(ratingValue) {
        currentRating = ratingValue;
        document.getElementById('userRating').value = ratingValue;
        const stars = document.querySelectorAll('.rating-star');
        stars.forEach((star, index) => {
          if (index < ratingValue) {
            star.classList.remove('text-[#bec5ca]');
            star.classList.add('text-[#111518]'); // 채워진 별 색상
          } else {
            star.classList.remove('text-[#111518]');
            star.classList.add('text-[#bec5ca]'); // 빈 별 색상
          }
        });
        console.log("User rating set to:", ratingValue);
      }

      // 리뷰 제출을 처리하는 함수
      function submitReview() {
        const reviewText = document.getElementById('reviewTextarea').value;
        const userRating = document.getElementById('userRating').value;
        const selectedSize = document.getElementById('selectSize').value;
        const selectedFit = document.getElementById('selectFit').value;
        const selectedMaterial = document.getElementById('selectMaterial').value;

        // 여기에 실제 서버로 데이터를 보내는 로직(예: fetch API)을 구현합니다.
        console.log("Review submitted:", {
          text: reviewText,
          rating: userRating,
          size: selectedSize,
          fit: selectedFit,
          material: selectedMaterial,
        });

        alert("리뷰가 성공적으로 제출되었습니다!");
        history.back(); // 리뷰 제출 후 이전 페이지로 돌아가기
      }
    </script>
  </head>
  <body>
    <div
      class="relative flex size-full min-h-screen flex-col bg-white justify-between group/design-root overflow-x-hidden"
      style='--select-button-svg: url'data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2724px%27 height=%2724px%27 fill=%27rgb(96,118,138)%27 viewBox=%270 0 256 256%27%3e%3cpath d=%27M181.66,170.34a8,8,0,0,1,0,11.32l-48,48a8,8,0,0,1-11.32,0l-48-48a8,8,0,0,1,11.32-11.32L128,212.69l42.34-42.35A8,8,0,0,1,181.66,170.34Zm-96-84.68L128,43.31l42.34,42.35a8,8,0,0,0,11.32-11.32l-48-48a8,8,0,0,0-11.32,0l-48,48A8,8,0,0,0,85.66,85.66Z%27%3e%3c/path%3e%3c/svg%3e'); font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'
    >
      <div>
        <div class="flex items-center bg-white p-4 pb-2 justify-between">
          <div class="flex w-12 items-center justify-end">
            <!-- 닫기 (X) 버튼 -->
            <button
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 bg-transparent text-[#111518] gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 p-0"
              onclick="history.back();"
              aria-label="닫기"
            >
              <div class="text-[#111518]" data-icon="X" data-size="24px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"
                  ></path>
                </svg>
              </div>
            </button>
          </div>
          <h2 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">Review</h2>
        </div>
        <h3 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">How was your experience?</h3>
        <div class="flex flex-wrap gap-x-8 gap-y-6 p-4">
          <div class="flex flex-col gap-2">
            <p class="text-[#111518] text-4xl font-black leading-tight tracking-[-0.033em]">4.5</p>
            <div class="flex gap-0.5">
              <div class="text-[#111518]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#111518]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#111518]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#111518]" data-icon="Star" data-size="18px" data-weight="fill">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"
                  ></path>
                </svg>
              </div>
              <div class="text-[#111518]" data-icon="Star" data-size="18px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" fill="currentColor" viewBox="0 0 256 256">
                  <path
                    d="M239.2,97.29a16,16,0,0,0-13.81-11L166,81.17,142.72,25.81h0a15.95,15.95,0,0,0-29.44,0L90.07,81.17,30.61,86.32a16,16,0,0,0-9.11,28.06L66.61,153.8,53.09,212.34a16,16,0,0,0,23.84,17.34l51-31,51.11,31a16,16,0,0,0,23.84-17.34l-13.51-58.6,45.1-39.36A16,16,0,0,0,239.2,97.29Zm-15.22,5-45.1,39.36a16,16,0,0,0-5.08,15.71L187.35,216v0l-51.07-31a15.9,15.9,0,0,0-16.54,0l-51,31h0L82.2,157.4a16,16,0,0,0-5.08-15.71L32,102.35a.37.37,0,0,1,0-.09l59.44-5.14a16,16,0,0,0,13.35-9.75L128,32.08l23.2,55.29a16,16,0,0,0,13.35,9.75L224,102.26S224,102.32,224,102.33Z"
                  ></path>
                </svg>
              </div>
            </div>
            <!-- "120 reviews" 텍스트를 링크로 변경 -->
            <a href="product-reviews.html" class="text-[#111518] text-base font-normal leading-normal underline cursor-pointer">120 reviews</a>
          </div>
          <div class="grid min-w-[200px] max-w-[400px] flex-1 grid-cols-[20px_1fr_40px] items-center gap-y-3">
            <p class="text-[#111518] text-sm font-normal leading-normal">5</p>
            <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbe1e6]"><div class="rounded-full bg-[#111518]" style="width: 40%;"></div></div>
            <p class="text-[#60768a] text-sm font-normal leading-normal text-right">40%</p>
            <p class="text-[#111518] text-sm font-normal leading-normal">4</p>
            <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbe1e6]"><div class="rounded-full bg-[#111518]" style="width: 30%;"></div></div>
            <p class="text-[#60768a] text-sm font-normal leading-normal text-right">30%</p>
            <p class="text-[#111518] text-sm font-normal leading-normal">3</p>
            <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbe1e6]"><div class="rounded-full bg-[#111518]" style="width: 15%;"></div></div>
            <p class="text-[#60768a] text-sm font-normal leading-normal text-right">15%</p>
            <p class="text-[#111518] text-sm font-normal leading-normal">2</p>
            <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbe1e6]"><div class="rounded-full bg-[#111518]" style="width: 10%;"></div></div>
            <p class="text-[#60768a] text-sm font-normal leading-normal text-right">10%</p>
            <p class="text-[#111518] text-sm font-normal leading-normal">1</p>
            <div class="flex h-2 flex-1 overflow-hidden rounded-full bg-[#dbe1e6]"><div class="rounded-full bg-[#111518]" style="width: 5%;"></div></div>
            <p class="text-[#60768a] text-sm font-normal leading-normal text-right">5%</p>
          </div>
        </div>
        <!-- 사용자가 별점을 입력하는 섹션 추가 -->
        <h3 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Your rating</h3>
        <div class="flex gap-1 p-4">
          <button type="button" class="text-[#bec5ca] flex items-center justify-center rating-star" data-star="1" onclick="setRating(1)">
            <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
            </svg>
          </button>
          <button type="button" class="text-[#bec5ca] flex items-center justify-center rating-star" data-star="2" onclick="setRating(2)">
            <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
            </svg>
          </button>
          <button type="button" class="text-[#bec5ca] flex items-center justify-center rating-star" data-star="3" onclick="setRating(3)">
            <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
            </svg>
          </button>
          <button type="button" class="text-[#bec5ca] flex items-center justify-center rating-star" data-star="4" onclick="setRating(4)">
            <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
            </svg>
          </button>
          <button type="button" class="text-[#bec5ca] flex items-center justify-center rating-star" data-star="5" onclick="setRating(5)">
            <svg xmlns="http://www.w3.org/2000/svg" width="28px" height="28px" fill="currentColor" viewBox="0 0 256 256">
              <path d="M234.5,114.38l-45.1,39.36,13.51,58.6a16,16,0,0,1-23.84,17.34l-51.11-31-51,31a16,16,0,0,1-23.84-17.34L66.61,153.8,21.5,114.38a16,16,0,0,1,9.11-28.06l59.46-5.15,23.21-55.36a15.95,15.95,0,0,1,29.44,0h0L166,81.17l59.44,5.15a16,16,0,0,1,9.11,28.06Z"></path>
            </svg>
          </button>
          <input type="hidden" id="userRating" name="user_rating" value="0">
        </div>

        <h3 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Write a review</h3>
        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
          <label class="flex flex-col min-w-40 flex-1">
            <textarea
              id="reviewTextarea"
              placeholder="Share your thoughts on the product"
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111518] focus:outline-0 focus:ring-0 border-none bg-[#f0f2f5] focus:border-none min-h-36 placeholder:text-[#60768a] p-4 text-base font-normal leading-normal"
              name="review_text"
            ></textarea>
          </label>
        </div>
        <h3 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Add photos or videos</h3>
        <div class="flex flex-col p-4">
          <div class="flex flex-col items-center gap-6 rounded-xl border-2 border-dashed border-[#dbe1e6] px-6 py-14">
            <div class="flex max-w-[480px] flex-col items-center gap-2">
              <p class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] max-w-[480px] text-center">Add media</p>
              <p class="text-[#111518] text-sm font-normal leading-normal max-w-[480px] text-center">Show off your purchase</p>
            </div>
            <!-- 미디어 업로드 버튼 -->
            <button
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#f0f2f5] text-[#111518] text-sm font-bold leading-normal tracking-[0.015em]"
              onclick="document.getElementById('mediaInput').click();"
            >
              <span class="truncate">Upload</span>
            </button>
            <input type="file" id="mediaInput" accept="image/*,video/*" style="display: none;" multiple />
          </div>
        </div>
        <h3 class="text-[#111518] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4">Product details</h3>
        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
          <label class="flex flex-col min-w-40 flex-1">
            <select
              id="selectSize"
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111518] focus:outline-0 focus:ring-0 border-none bg-[#f0f2f5] focus:border-none h-14 bg-[image:var(--select-button-svg)] placeholder:text-[#60768a] p-4 text-base font-normal leading-normal"
              name="product_size"
            >
              <option value="">Size</option>
              <option value="S">S</option>
              <option value="M">M</option>
              <option value="L">L</option>
              <option value="XL">XL</option>
            </select>
          </label>
        </div>
        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
          <label class="flex flex-col min-w-40 flex-1">
            <select
              id="selectFit"
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111518] focus:outline-0 focus:ring-0 border-none bg-[#f0f2f5] focus:border-none h-14 bg-[image:var(--select-button-svg)] placeholder:text-[#60768a] p-4 text-base font-normal leading-normal"
              name="product_fit"
            >
              <option value="">Fit</option>
              <option value="Slim">Slim</option>
              <option value="Regular">Regular</option>
              <option value="Loose">Loose</option>
            </select>
          </label>
        </div>
        <div class="flex max-w-[480px] flex-wrap items-end gap-4 px-4 py-3">
          <label class="flex flex-col min-w-40 flex-1">
            <select
              id="selectMaterial"
              class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#111518] focus:outline-0 focus:ring-0 border-none bg-[#f0f2f5] focus:border-none h-14 bg-[image:var(--select-button-svg)] placeholder:text-[#60768a] p-4 text-base font-normal leading-normal"
              name="product_material"
            >
              <option value="">Material</option>
              <option value="Wool Blend">Wool Blend</option>
              <option value="Cotton">Cotton</option>
              <option value="Polyester">Polyester</option>
            </select>
          </label>
        </div>
      </div>
      <div>
        <div class="flex px-4 py-3">
          <!-- 리뷰 제출 버튼 -->
          <button
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 px-5 flex-1 bg-[#0b80ee] text-white text-base font-bold leading-normal tracking-[0.015em]"
            onclick="submitReview();"
          >
            <span class="truncate">Submit Review</span>
          </button>
        </div>
        <div class="h-5 bg-white"></div>
      </div>
    </div>
  </body>
</html>